(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{PMQ2:function(e,t,o){"use strict";o.r(t),o.d(t,"routes",function(){return ie}),o.d(t,"UnloggedLayoutModule",function(){return se});var r=o("tyNb"),n=o("fXoL");let i=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Ib({type:e,selectors:[["app-unlogged-layout"]],decls:2,vars:0,consts:[[1,"w-100","h-100"]],template:function(e,t){1&e&&(n.Ub(0,"div",0),n.Pb(1,"router-outlet"),n.Tb())},directives:[r.h],encapsulation:2}),e})();var s=o("R0Ic"),c=o("XSeF"),a=o("ofXK"),l=o("octk"),b=o("3Pt+"),p=o("7dP1"),h=o("qj7e"),m=o("ZKUy"),d=o("UYTb"),u=o("8SIa"),g=o("BNB/"),f=o("0rq5"),x=o("Lbqz"),w=o("sYmb");let v=(()=>{class e{constructor(e){this.deviceService=e,this.closed=new n.n,this.show=!1,this.top="85px"}ngOnInit(){this.deviceService.onDeviceChanged().subscribe(e=>{this.top="mobile"===e?"60px":"85px"})}ngOnChanges(e){this.message&&(this.show=!0,this.styleMessage())}styleMessage(){this.message=this.message.replace(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi,'<br><span class="text-color-muted">$&</span><br>')}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(u.a))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-messages"]],inputs:{message:"message"},outputs:{closed:"closed"},features:[n.zb],decls:11,vars:11,consts:[["position","right",3,"show","top","hideButton","hideHeader","backdrop","showChange","closed"],[1,"container","w-100","text-color-primary","text-center"],[1,"row","justify-content-center","pt-35vh"],[1,"col-8"],[1,"text-xl","text-color-primary","font-sans","px-2",3,"innerHtml"],[1,"row","pt-10vh"],[1,"col","d-flex","justify-content-end"],[1,"btn","button-outline-primary","rounded","color-primary","text-xs","font-weight-bolder","py-1",3,"click"]],template:function(e,t){1&e&&(n.Ub(0,"app-menu-drawer",0),n.bc("showChange",function(e){return t.show=e})("closed",function(){return t.closed.emit()}),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"div",3),n.Pb(4,"p",4),n.gc(5,"safe"),n.Tb(),n.Tb(),n.Ub(6,"div",5),n.Ub(7,"div",6),n.Ub(8,"button",7),n.bc("click",function(){return t.show=!1}),n.Mc(9),n.gc(10,"translate"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&e&&(n.mc("show",t.show)("top",t.top)("hideButton",!0)("hideHeader",!0)("backdrop",!1),n.Bb(4),n.mc("innerHtml",n.hc(5,7,t.message),n.Cc),n.Bb(5),n.Oc(" ",n.hc(10,9,"login.volver")," "))},directives:[f.a],pipes:[x.a,w.c],styles:[".message[_ngcontent-%COMP%]{display:grid;grid-template-rows:7fr 100px 1fr;height:calc(100vh - 85px)}@media only screen and (max-width:1024px){.message[_ngcontent-%COMP%]{height:calc(100vh - 60px)}}.pt-35vh[_ngcontent-%COMP%]{padding-top:35vh}.pt-10vh[_ngcontent-%COMP%]{padding-top:10vh}"]}),e})();function U(e,t){if(1&e){const e=n.Vb();n.Ub(0,"span",23),n.bc("click",function(){n.Bc(e);const t=n.fc();return t.showPass=!t.showPass}),n.Pb(1,"i",24),n.Tb()}}function T(e,t){if(1&e){const e=n.Vb();n.Ub(0,"span",23),n.bc("click",function(){n.Bc(e);const t=n.fc();return t.showPass=!t.showPass}),n.Pb(1,"i",25),n.Tb()}}function y(e,t){if(1&e&&(n.Ub(0,"small",26),n.Pb(1,"img",27),n.Mc(2," La contrase\xf1a no cumple con los requisitos. Record\xe1 que debe tener al menos 8 caracteres, 1 min\xfascula, 1 may\xfascula, y 1 n\xfamero. "),n.Tb()),2&e){const e=n.fc();n.Bb(1),n.mc("src",e.infoIconRed,n.Ec)}}function P(e,t){if(1&e&&(n.Ub(0,"small",28),n.Pb(1,"img",27),n.Mc(2),n.Tb()),2&e){const e=n.fc();n.Bb(1),n.mc("src",e.infoIconRed,n.Ec),n.Bb(1),n.Oc(" ",e.error," ")}}let M=(()=>{class e{constructor(e,t,o,r,i){this.authService=e,this.deviceService=t,this.router=o,this.route=r,this._envService=i,this.switchMessage=new n.n,this.show=!1,this.top="85px",this.iconBack=this._envService.env.assetsUrl+"066692_iconretornar.svg",this.infoIconRed=this._envService.env.assetsUrl+"066074_icon_alertsvg.svg",this.infoIcon=this._envService.env.assetsUrl+"069337_iconostooltipinformacion.svg",this.passwordTooltip="La contrase\xf1a debe tener al menos ocho d\xedgitos, una min\xfascula, una may\xfascula,  y un n\xfamero.",this.userTooltip="Cre\xe1 tu nombre usuario.",this.showPass=!1,this.altaUsuarioForm=new b.g({newUser:new b.e("newUser",[b.x.required]),newPassword:new b.e("newPassword",[b.x.required,b.x.pattern(/^(?=\D*\d)(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z]).{8,30}$/)]),confirmpassword:new b.e("",[b.x.required])},{validators:Object(g.a)("newPassword","confirmpassword")})}ngOnInit(){this.deviceService.onDeviceChanged().subscribe(e=>{this.top="mobile"===e?"60px":"85px"}),this.route.queryParams.subscribe(e=>{this.nonce=e.altausuario})}crearUsuario(){this.altaUsuarioForm.valid?this.authService.registrar(this.altaUsuarioForm.get("newUser").value,this.altaUsuarioForm.get("newPassword").value,this.nonce).subscribe(e=>{this.message=e.Descripcion,this.changeShow(!1)},e=>{this.error=e.error.Descripcion}):this.error="Campos Inv\xe1lidos"}changeShow(e){this.show=e,this.altaUsuarioForm.reset(),this.error=void 0,this.switchMessage.emit()}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(p.a),n.Ob(u.a),n.Ob(r.c),n.Ob(r.a),n.Ob(c.b))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-alta-usuario"]],outputs:{switchMessage:"switchMessage"},decls:41,vars:34,consts:[["position","right",3,"show","top","hideButton","hideHeader","backdrop","showChange"],[1,"d-block","py-3","px-md-4","px-2","mt-3",2,"background-color","white"],[1,"d-flex","justify-content-start","align-items-center"],[1,"btn","btn-transparent","text-color-primary","p-0","mr-3",3,"click"],[2,"width","34px",3,"src"],[1,"text-xl","text-color-primary","font-sans"],[1,"py-5","px-md-4","px-2"],["id","altaUsuario",1,"text-left",3,"formGroup","ngSubmit"],[1,"form-group","d-flex","mb-md-5","mb-3","flex-column"],[1,"mb-0","text-xs","text-browntext-left"],["data-toggle","tooltipInput","data-placement","right","width","21px","height","21px",1,"help-color","ml-2","cursor-default","info-icon",3,"title","src"],["type","text","formControlName","newUser",1,"form-control"],[1,"mb-0","text-xs","text-brown","text-left"],[1,"d-flex"],["formControlName","newPassword",1,"form-control","w-100",3,"type"],[1,"position-relative",2,"width","0","height","0","top","10px","right","30px"],["class","cursor-pointer",3,"click",4,"ngIf"],["class","feedback-error mt-3 text-danger text-left",4,"ngIf"],["type","password","formControlName","confirmpassword",1,"form-control","w-100"],["class","feedback-error my-3 text-danger text-left",4,"ngIf"],[1,"d-flex","justify-content-end","my-md-4"],["type","submit",1,"btn","button-outline-primary","rounded","text-sm","font-weight-bolder","py-1","my-3",3,"ngClass","disabled"],[3,"message","closed"],[1,"cursor-pointer",3,"click"],[1,"form-group-icon","fa","fa-eye","text-color-primary"],[1,"form-group-icon","fa","fa-eye-slash","text-color-primary"],[1,"feedback-error","mt-3","text-danger","text-left"],[1,"mb-1",2,"width","16px",3,"src"],[1,"feedback-error","my-3","text-danger","text-left"]],template:function(e,t){1&e&&(n.Ub(0,"app-menu-drawer",0),n.bc("showChange",function(e){return t.show=e}),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"button",3),n.bc("click",function(){return t.changeShow(!1)}),n.Pb(4,"img",4),n.Tb(),n.Ub(5,"span",5),n.Mc(6),n.gc(7,"translate"),n.Tb(),n.Tb(),n.Tb(),n.Ub(8,"div",6),n.Ub(9,"form",7),n.bc("ngSubmit",function(){return t.crearUsuario()}),n.Ub(10,"div",8),n.Ub(11,"label",9),n.Ub(12,"strong"),n.Mc(13),n.gc(14,"translate"),n.Tb(),n.Pb(15,"img",10),n.Tb(),n.Pb(16,"input",11),n.Tb(),n.Ub(17,"div",8),n.Ub(18,"label",12),n.Ub(19,"strong"),n.Mc(20),n.gc(21,"translate"),n.Tb(),n.Pb(22,"img",10),n.Tb(),n.Ub(23,"div",13),n.Pb(24,"input",14),n.Ub(25,"span",15),n.Kc(26,U,2,0,"span",16),n.Kc(27,T,2,0,"span",16),n.Tb(),n.Tb(),n.Kc(28,y,3,1,"small",17),n.Tb(),n.Ub(29,"div",8),n.Ub(30,"label",12),n.Ub(31,"strong"),n.Mc(32),n.gc(33,"translate"),n.Tb(),n.Tb(),n.Pb(34,"input",18),n.Kc(35,P,3,2,"small",19),n.Tb(),n.Ub(36,"div",20),n.Ub(37,"button",21),n.Mc(38),n.gc(39,"translate"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(40,"app-messages",22),n.bc("closed",function(){return t.message=""}),n.Tb()),2&e&&(n.mc("show",t.show)("top",t.top)("hideButton",!0)("hideHeader",!0)("backdrop",!1),n.Bb(4),n.mc("src",t.iconBack,n.Ec),n.Bb(2),n.Oc(" ",n.hc(7,24,"login.headeraltausuario")," "),n.Bb(3),n.mc("formGroup",t.altaUsuarioForm),n.Bb(4),n.Nc(n.hc(14,26,"login.placeholderusuario")),n.Bb(2),n.mc("title",t.userTooltip)("src",t.infoIcon,n.Ec),n.Bb(5),n.Nc(n.hc(21,28,"login.placeholdercontrasena")),n.Bb(2),n.mc("title",t.passwordTooltip)("src",t.infoIcon,n.Ec),n.Bb(2),n.mc("type",t.showPass?"text":"password"),n.Bb(2),n.mc("ngIf",t.showPass),n.Bb(1),n.mc("ngIf",!t.showPass),n.Bb(1),n.mc("ngIf",(null==t.altaUsuarioForm.controls.newPassword.errors?null:t.altaUsuarioForm.controls.newPassword.errors.pattern)&&t.altaUsuarioForm.controls.newPassword.touched),n.Bb(4),n.Nc(n.hc(33,30,"login.placeholderconfirmarcontrasena")),n.Bb(3),n.mc("ngIf",t.error),n.Bb(2),n.mc("ngClass",t.altaUsuarioForm.valid?"primary-buttons":"primary-buttons-disabled")("disabled",!t.altaUsuarioForm.valid),n.Bb(1),n.Oc(" ",n.hc(39,32,"login.botonenviar")," "),n.Bb(2),n.mc("message",t.message))},directives:[f.a,b.z,b.o,b.h,b.b,b.n,b.f,a.o,a.l,v],pipes:[w.c],styles:["@media only screen and (max-width:320px){.text-help[_ngcontent-%COMP%]{display:none}}.info-icon[_ngcontent-%COMP%]{margin-top:-3px;width:16px}.text-brown[_ngcontent-%COMP%]{color:var(--text-color-base)}"]}),e})();var O=o("XNiG"),C=o("1G5W");function B(e,t){if(1&e){const e=n.Vb();n.Ub(0,"span",23),n.bc("click",function(){n.Bc(e);const t=n.fc();return t.showPass=!t.showPass}),n.Pb(1,"i",24),n.Tb()}}function _(e,t){if(1&e){const e=n.Vb();n.Ub(0,"span",23),n.bc("click",function(){n.Bc(e);const t=n.fc();return t.showPass=!t.showPass}),n.Pb(1,"i",25),n.Tb()}}function k(e,t){if(1&e&&(n.Ub(0,"small",26),n.Pb(1,"img",27),n.Mc(2," La contrase\xf1a no cumple con los requisitos. Record\xe1 que debe tener al menos 8 caracteres, 1 min\xfascula, 1 may\xfascula, y 1 n\xfamero. "),n.Tb()),2&e){const e=n.fc();n.Bb(1),n.mc("src",e.infoIconRed,n.Ec)}}function I(e,t){if(1&e&&(n.Ub(0,"small",26),n.Pb(1,"img",27),n.Mc(2," Las contrase\xf1as no coinciden. "),n.Tb()),2&e){const e=n.fc();n.Bb(1),n.mc("src",e.infoIconRed,n.Ec)}}function S(e,t){if(1&e&&(n.Ub(0,"small",28),n.Pb(1,"img",27),n.Mc(2),n.Tb()),2&e){const e=n.fc();n.Bb(1),n.mc("src",e.infoIconRed,n.Ec),n.Bb(1),n.Oc(" ",e.error," ")}}let F=(()=>{class e{constructor(e,t,o,r,i){this.authService=e,this.deviceService=t,this.router=o,this.route=r,this._envService=i,this.switchMessage=new n.n,this.show=!1,this.top="85px",this.iconBack=this._envService.env.assetsUrl+"066692_iconretornar.svg",this.infoIconRed=this._envService.env.assetsUrl+"066074_icon_alertsvg.svg",this.infoIcon=this._envService.env.assetsUrl+"069337_iconostooltipinformacion.svg",this.passwordTooltip="La contrase\xf1a debe tener al menos ocho d\xedgitos, una min\xfascula, una may\xfascula,  y un n\xfamero.",this.userTooltip="Cre\xe1 tu nombre usuario.",this.showPass=!1,this.newPasswordForm=new b.g({user:new b.e("user",[b.x.required]),newPassword:new b.e("newPassword",[b.x.required,b.x.pattern(/^(?=\D*\d)(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z]).{8,30}$/)]),confirmpassword:new b.e("",[b.x.required])},{validators:Object(g.a)("newPassword","confirmpassword")})}ngOnInit(){this.deviceService.onDeviceChanged().subscribe(e=>{this.top="mobile"===e?"60px":"85px"}),this.route.queryParams.subscribe(e=>{this.nonce=e.recuperarclave})}cambiarClave(){this.newPasswordForm.valid?this.authService.cambiarclave(this.newPasswordForm.get("user").value,this.newPasswordForm.get("newPassword").value,this.nonce).subscribe(e=>{this.message=e.Descripcion,this.changeShow(!1)},e=>{this.error=e.error.Descripcion}):this.error="Campos Inv\xe1lidos"}changeShow(e){this.show=e,this.newPasswordForm.reset(),this.error=void 0,this.switchMessage.emit()}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(p.a),n.Ob(u.a),n.Ob(r.c),n.Ob(r.a),n.Ob(c.b))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-new-password"]],outputs:{switchMessage:"switchMessage"},decls:40,vars:30,consts:[["position","right",3,"show","top","hideButton","hideHeader","backdrop","showChange"],[1,"d-block","py-3","px-md-4","px-2","mt-3",2,"background-color","white"],[1,"d-flex","justify-content-start","align-items-center"],[1,"btn","btn-transparent","text-color-primary","p-0","mr-3",3,"click"],[2,"width","34px",3,"src"],[1,"text-xl","text-color-primary","font-sans"],[1,"py-5","px-md-4","px-2"],["id","altaUsuario",1,"text-left",3,"formGroup","ngSubmit"],[1,"form-group","d-flex","mb-md-5","mb-3","flex-column"],[1,"mb-0","text-xs","text-browntext-left"],["type","text","formControlName","user",1,"form-control"],[1,"mb-0","text-xs","text-brown","text-left"],["data-toggle","tooltipInput2","data-placement","right","width","21px","height","21px",1,"help-color","ml-2","cursor-default","info-icon",3,"title","src"],[1,"d-flex"],["formControlName","newPassword",1,"form-control","w-100",3,"type"],[1,"position-relative",2,"width","0","height","0","top","10px","right","30px"],["class","cursor-pointer",3,"click",4,"ngIf"],["class","feedback-error mt-3 text-danger text-left",4,"ngIf"],["type","password","formControlName","confirmpassword",1,"form-control","w-100"],["class","feedback-error my-3 text-danger text-left",4,"ngIf"],[1,"d-flex","justify-content-end","my-md-4"],["type","submit",1,"btn","button-outline-primary","rounded","text-sm","font-weight-bolder","py-1","my-3",3,"ngClass","disabled"],[3,"message","closed"],[1,"cursor-pointer",3,"click"],[1,"form-group-icon","fa","fa-eye","text-color-primary"],[1,"form-group-icon","fa","fa-eye-slash","text-color-primary"],[1,"feedback-error","mt-3","text-danger","text-left"],[1,"mb-1",2,"width","16px",3,"src"],[1,"feedback-error","my-3","text-danger","text-left"]],template:function(e,t){1&e&&(n.Ub(0,"app-menu-drawer",0),n.bc("showChange",function(e){return t.show=e}),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"button",3),n.bc("click",function(){return t.changeShow(!1)}),n.Pb(4,"img",4),n.Tb(),n.Ub(5,"span",5),n.Mc(6),n.gc(7,"translate"),n.Tb(),n.Tb(),n.Tb(),n.Ub(8,"div",6),n.Ub(9,"form",7),n.bc("ngSubmit",function(){return t.cambiarClave()}),n.Ub(10,"div",8),n.Ub(11,"label",9),n.Ub(12,"strong"),n.Mc(13,"Ingrese su usuario"),n.Tb(),n.Tb(),n.Pb(14,"input",10),n.Tb(),n.Ub(15,"div",8),n.Ub(16,"label",11),n.Ub(17,"strong"),n.Mc(18),n.gc(19,"translate"),n.Tb(),n.Pb(20,"img",12),n.Tb(),n.Ub(21,"div",13),n.Pb(22,"input",14),n.Ub(23,"span",15),n.Kc(24,B,2,0,"span",16),n.Kc(25,_,2,0,"span",16),n.Tb(),n.Tb(),n.Kc(26,k,3,1,"small",17),n.Tb(),n.Ub(27,"div",8),n.Ub(28,"label",11),n.Ub(29,"strong"),n.Mc(30),n.gc(31,"translate"),n.Tb(),n.Tb(),n.Pb(32,"input",18),n.Kc(33,I,3,1,"small",17),n.Kc(34,S,3,2,"small",19),n.Tb(),n.Ub(35,"div",20),n.Ub(36,"button",21),n.Mc(37),n.gc(38,"translate"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(39,"app-messages",22),n.bc("closed",function(){return t.message=""}),n.Tb()),2&e&&(n.mc("show",t.show)("top",t.top)("hideButton",!0)("hideHeader",!0)("backdrop",!1),n.Bb(4),n.mc("src",t.iconBack,n.Ec),n.Bb(2),n.Oc(" ",n.hc(7,22,"login.headernuevopassword")," "),n.Bb(3),n.mc("formGroup",t.newPasswordForm),n.Bb(9),n.Nc(n.hc(19,24,"login.placeholdercrearcontrasena")),n.Bb(2),n.mc("title",t.passwordTooltip)("src",t.infoIcon,n.Ec),n.Bb(2),n.mc("type",t.showPass?"text":"password"),n.Bb(2),n.mc("ngIf",t.showPass),n.Bb(1),n.mc("ngIf",!t.showPass),n.Bb(1),n.mc("ngIf",(null==t.newPasswordForm.controls.newPassword.errors?null:t.newPasswordForm.controls.newPassword.errors.pattern)&&t.newPasswordForm.controls.newPassword.touched),n.Bb(4),n.Nc(n.hc(31,26,"login.placeholderconfirmarcontrasena")),n.Bb(3),n.mc("ngIf",(null==t.newPasswordForm.errors?null:t.newPasswordForm.errors.passwordsmatch)&&t.newPasswordForm.controls.confirmpassword.touched),n.Bb(1),n.mc("ngIf",t.error),n.Bb(2),n.mc("ngClass",t.newPasswordForm.valid?"primary-buttons":"primary-buttons-disabled")("disabled",!t.newPasswordForm.valid),n.Bb(1),n.Oc(" ",n.hc(38,28,"login.botonenviar")," "),n.Bb(2),n.mc("message",t.message))},directives:[f.a,b.z,b.o,b.h,b.b,b.n,b.f,a.o,a.l,v],pipes:[w.c],styles:[".text-brown[_ngcontent-%COMP%]{color:var(--text-color-base)}.info-icon[_ngcontent-%COMP%]{margin-top:-3px;width:16px}"]}),e})();var j=o("RkZl");function D(e){return t=>e.test(t.value)?null:{expresion:{value:t.value}}}var z=o("OYTz");function R(e,t){if(1&e&&(n.Ub(0,"option",29),n.Mc(1),n.Tb()),2&e){const e=t.$implicit;n.mc("value",e.idTipoDocumento),n.Bb(1),n.Oc(" ",e.Descripcion," ")}}function L(e,t){if(1&e&&(n.Ub(0,"small",30),n.Pb(1,"img",31),n.Mc(2),n.Tb()),2&e){const e=n.fc();n.Bb(1),n.mc("src",e.infoIconRed,n.Ec),n.Bb(1),n.Oc(" ",e.error," ")}}function A(e,t){if(1&e&&(n.Ub(0,"div",32),n.Ub(1,"div",33),n.Ub(2,"p",34),n.Mc(3),n.Tb(),n.Tb(),n.Pb(4,"i",35),n.Tb()),2&e){const e=n.fc();n.Bb(3),n.Nc(e.tooltipDni)}}let N=(()=>{class e{constructor(e,t,o,r){this.authService=e,this.translateService=t,this.deviceService=o,this._envService=r,this.switchMessage=new n.n,this.show=!1,this.top="85px",this.iconBack=this._envService.env.assetsUrl+"066692_iconretornar.svg",this.infoIconRed=this._envService.env.assetsUrl+"066074_icon_alertsvg.svg",this.urlAbrirCuenta=this._envService.env.AbrirCuentaUrl,this.primerIngresoForm=new b.g({dni:new b.e("",[b.x.required,b.x.minLength(8),b.x.maxLength(8),D(/^[0-9]*$/)]),idTipoDocumento:new b.e("1",[b.x.required]),email:new b.e("",[b.x.required,D(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)])}),this.infoIcon=this._envService.env.assetsUrl+"069337_iconostooltipinformacion.svg",this.tooltipDni="Ingres\xe1 tu documento sin puntos, espacios y ni caracteres especiales",this.documentos=[]}ngOnInit(){this.deviceService.onDeviceChanged().subscribe(e=>{this.top="mobile"===e?"60px":"85px"}),this.getTiposDeDocumentos()}primerIngreso(){this.primerIngresoForm.valid?this.authService.primerIngreso(this.primerIngresoForm.get("idTipoDocumento").value,this.primerIngresoForm.get("dni").value,this.primerIngresoForm.get("email").value).subscribe(e=>{this.message=this.translateService.instant("login.primeringresorealizado"),this.changeShow(!1)},e=>{this.error=e.error.Descripcion,-502===e.error.CodigoError&&this.changeShow(!1)}):this.error="Campos Inv\xe1lidos"}changeShow(e){this.show=e,this.primerIngresoForm.reset(),this.switchMessage.emit()}getTiposDeDocumentos(){this.authService.getTiposDeDocumentos().subscribe(e=>{this.documentos=e.tiposDocumentos})}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(p.a),n.Ob(w.d),n.Ob(u.a),n.Ob(c.b))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-primer-ingreso"]],outputs:{switchMessage:"switchMessage"},decls:50,vars:36,consts:[[1,"d-flex","flex-column"],[1,"text-s"],[1,"btn","text-color-primary","font-weight-bolder","text-s",3,"click"],["position","right",3,"show","top","hideButton","hideHeader","backdrop","showChange"],[1,"d-block","py-3","px-md-4","px-2",2,"background-color","white"],[1,"d-flex","justify-content-center","align-items-center"],[1,"btn","btn-transparent","text-color-primary","p-0","mr-3",3,"click"],[2,"width","34px",3,"src"],[1,"text-xl","mt-3","text-color-primary","font-sans"],[1,"pb-5","px-md-4","px-2"],[1,"text-left",3,"formGroup","ngSubmit"],[1,"alert","custom-alert","my-3","d-flex","px-3"],["width","21px","height","21px",1,"help-color","mr-2","cursor-default","info-icon",2,"align-self","start",3,"src"],[1,"text-xs","text-left","mb-0",2,"line-height","normal"],["target","_blank",2,"text-decoration","underline","font-weight","bold","color","#0c5460 !important",3,"href"],[2,"text-decoration","underline"],[1,"form-group","d-flex","mb-5","flex-column"],[1,"mb-0","text-xs","text-brown","text-left"],["width","21px","height","21px",1,"help-color","ml-2","cursor-default","info-icon",3,"appTooltip","position","orientation","src"],[1,"d-flex"],["formControlName","idTipoDocumento",1,"form-control","form-especies","mr-2","col-4"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","dni",1,"form-control","col-8"],["type","text","formControlName","email",1,"form-control"],["class","feedback-error text-xs my-3 text-danger text-left",4,"ngIf"],[1,"d-flex","justify-content-end","my-md-4"],["type","submit",1,"btn","button-outline-primary","rounded","text-sm","font-weight-bolder","py-1","my-3",3,"ngClass","disabled"],["tooltipTemplate",""],[3,"message","closed"],[3,"value"],[1,"feedback-error","text-xs","my-3","text-danger","text-left"],[1,"mb-1",2,"width","16px",3,"src"],["role","tooltip",1,"d-flex","card-tooltip","mr-2"],[1,"tooltip-inner","card-tooltip-inner","custom-inner","background-light","px-3","py-4","text-color-primary","text-left","text-xs"],[1,"mb-0",2,"line-height","normal"],[1,"fas","fa-caret-right","card-caret-right","text-light"]],template:function(e,t){if(1&e&&(n.Ub(0,"div",0),n.Ub(1,"span",1),n.Mc(2),n.gc(3,"translate"),n.Tb(),n.Ub(4,"button",2),n.bc("click",function(){return t.show=!0}),n.Mc(5),n.gc(6,"translate"),n.Tb(),n.Tb(),n.Ub(7,"app-menu-drawer",3),n.bc("showChange",function(e){return t.show=e}),n.Ub(8,"div",4),n.Ub(9,"div",5),n.Ub(10,"button",6),n.bc("click",function(){return t.changeShow(!1)}),n.Pb(11,"img",7),n.Tb(),n.Ub(12,"span",8),n.Mc(13),n.gc(14,"translate"),n.Tb(),n.Tb(),n.Tb(),n.Ub(15,"div",9),n.Ub(16,"form",10),n.bc("ngSubmit",function(){return t.primerIngreso()}),n.Ub(17,"div",11),n.Pb(18,"img",12),n.Ub(19,"p",13),n.Mc(20," Record\xe1 que pod\xe9s gestionar tu primer ingreso si ya realizaste el "),n.Ub(21,"a",14),n.Mc(22," proceso de apertura de cuenta"),n.Tb(),n.Mc(23," y recibsite el mail de "),n.Ub(24,"strong",15),n.Mc(25," activaci\xf3n de cuenta."),n.Tb(),n.Tb(),n.Tb(),n.Ub(26,"div",16),n.Ub(27,"label",17),n.Ub(28,"strong"),n.Mc(29),n.gc(30,"translate"),n.Tb(),n.Pb(31,"img",18),n.Tb(),n.Ub(32,"div",19),n.Ub(33,"select",20),n.Kc(34,R,2,2,"option",21),n.Tb(),n.Pb(35,"input",22),n.Tb(),n.Tb(),n.Ub(36,"div",16),n.Ub(37,"label",17),n.Ub(38,"strong"),n.Mc(39),n.gc(40,"translate"),n.Tb(),n.Tb(),n.Pb(41,"input",23),n.Kc(42,L,3,2,"small",24),n.Tb(),n.Ub(43,"div",25),n.Ub(44,"button",26),n.Mc(45),n.gc(46,"translate"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Kc(47,A,5,1,"ng-template",null,27,n.Lc),n.Tb(),n.Ub(49,"app-messages",28),n.bc("closed",function(){return t.message=""}),n.Tb()),2&e){const e=n.yc(48);n.Bb(2),n.Oc(" ",n.hc(3,24,"login.textoprimeringreso")," "),n.Bb(3),n.Oc(" ",n.hc(6,26,"login.botonprimeringreso")," "),n.Bb(2),n.mc("show",t.show)("top",t.top)("hideButton",!0)("hideHeader",!0)("backdrop",!1),n.Bb(4),n.mc("src",t.iconBack,n.Ec),n.Bb(2),n.Oc(" ",n.hc(14,28,"login.headerprimeringreso")," "),n.Bb(3),n.mc("formGroup",t.primerIngresoForm),n.Bb(2),n.mc("src",t.infoIcon,n.Ec),n.Bb(3),n.mc("href",t.urlAbrirCuenta,n.Ec),n.Bb(8),n.Nc(n.hc(30,30,"login.placeholderdni")),n.Bb(2),n.mc("appTooltip",e)("position","left")("orientation","left")("src",t.infoIcon,n.Ec),n.Bb(3),n.mc("ngForOf",t.documentos),n.Bb(5),n.Nc(n.hc(40,32,"login.placeholderemail")),n.Bb(3),n.mc("ngIf",t.error),n.Bb(2),n.mc("ngClass",t.primerIngresoForm.valid?"btn-enabled":"btn-disabled")("disabled",!t.primerIngresoForm.valid),n.Bb(1),n.Oc(" ",n.hc(46,34,"login.botoncontinuar")," "),n.Bb(4),n.mc("message",t.message)}},directives:[f.a,b.z,b.o,b.h,z.a,b.w,b.n,b.f,a.n,b.b,a.o,a.l,v,b.q,b.y],pipes:[w.c],styles:[".btn-disabled[_ngcontent-%COMP%]{background:#ccc;border-color:#ccc;color:var(--base)}.btn-enabled[_ngcontent-%COMP%]{background:var(--text-color-primary);color:var(--base)}.btn-enabled[_ngcontent-%COMP%]:hover{background:#011e4b}.custom-alert[_ngcontent-%COMP%]{background-color:#d1ecf1;border:1px solid #bee5eb;color:#0c5460;margin-bottom:2rem!important;border-radius:0}@media only screen and (max-width:320px){.text-help[_ngcontent-%COMP%]{display:none}}.info-icon[_ngcontent-%COMP%]{margin-top:-3px;width:16px}  .login-caret-right{font-size:50px!important;align-self:center!important;z-index:10;margin-right:-2px;filter:drop-shadow(2px 1px 1px rgba(0,0,0,.55))!important;color:#f0f1f5!important}  .login-tooltip .fa-caret-right{text-shadow:-1px 3px 0 #272634}  .login-tooltip-inner{max-width:400px!important;margin-right:-3px!important;background-color:#f0f1f5!important;box-shadow:0 1px 4px 0 rgba(0,0,0,.55)!important}hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}.form-instrumentos[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:var(--bg-color-primary)}  .card-tooltip{z-index:99999999}  .card-caret-left{font-size:50px!important;align-self:center!important;z-index:10;margin-right:-2px;filter:drop-shadow(-2px 1px 1px rgba(0,0,0,.55))!important;color:#f0f1f5!important}  .card-tooltip .fa-caret-left{text-shadow:-1px 3px 0 #272634}  .card-tooltip-inner{max-width:460px!important;margin-right:-3px!important;background-color:#f0f1f5!important;box-shadow:0 1px 4px 0 rgba(0,0,0,.55)!important}  .card-caret-right{font-size:50px!important;align-self:center!important;z-index:10;margin-right:-2px;filter:drop-shadow(2px 1px 1px rgba(0,0,0,.55))!important;color:#f0f1f5!important}  .card-tooltip .fa-caret-right{text-shadow:-1px 3px 0 #272634}.text-brown[_ngcontent-%COMP%]{color:var(--text-color-base)}"]}),e})();var q=o("7aL3");function E(e,t){if(1&e&&(n.Ub(0,"option",22),n.Mc(1),n.Tb()),2&e){const e=t.$implicit;n.mc("value",e.idTipoDocumento),n.Bb(1),n.Oc(" ",e.Descripcion," ")}}function K(e,t){if(1&e&&(n.Ub(0,"small",23),n.Pb(1,"img",24),n.Mc(2),n.Tb()),2&e){const e=n.fc();n.Bb(1),n.mc("src",e.infoIconRed,n.Ec),n.Bb(1),n.Oc(" ",e.error," ")}}function V(e,t){if(1&e&&(n.Ub(0,"div",25),n.Ub(1,"div",26),n.Ub(2,"p",27),n.Mc(3),n.Tb(),n.Tb(),n.Pb(4,"i",28),n.Tb()),2&e){const e=n.fc();n.Bb(3),n.Nc(e.tooltipDni)}}let H=(()=>{class e{constructor(e,t,o){this.authService=e,this.deviceService=t,this._envService=o,this.switchMessage=new n.n,this.show=!1,this.top="85px",this.iconBack=this._envService.env.assetsUrl+"066692_iconretornar.svg",this.infoIconRed=this._envService.env.assetsUrl+"066074_icon_alertsvg.svg",this.infoIcon=this._envService.env.assetsUrl+"069337_iconostooltipinformacion.svg",this.recuperarUsuarioPasswordForm=new b.g({dni:new b.e("",[b.x.required,b.x.minLength(8),b.x.maxLength(8),D(/^[0-9]*$/)]),idTipoDocumento:new b.e("1",[b.x.required]),email:new b.e("",[b.x.required,D(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)])}),this.tooltipDni="Ingres\xe1 tu documento sin puntos, espacios y ni caracteres especiales",this.documentos=[]}ngOnInit(){this.deviceService.onDeviceChanged().subscribe(e=>{this.top="mobile"===e?"60px":"85px"}),this.getTiposDeDocumentos()}recuperarUsuario(){this.recuperarUsuarioPasswordForm.valid?this.authService.recuperarUsuarioClave(this.recuperarUsuarioPasswordForm.get("idTipoDocumento").value,this.recuperarUsuarioPasswordForm.get("dni").value,this.recuperarUsuarioPasswordForm.get("email").value).subscribe(e=>{this.message=e.Descripcion,this.changeShow(!1)},e=>{this.error=e.error.Descripcion}):this.error="Campos Inv\xe1lidos"}changeShow(e){this.show=e,this.recuperarUsuarioPasswordForm.reset(),this.error=void 0,this.switchMessage.emit()}getTiposDeDocumentos(){this.authService.getTiposDeDocumentos().subscribe(e=>{this.documentos=e.tiposDocumentos})}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(p.a),n.Ob(u.a),n.Ob(c.b))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-recuperar-usuario-password"]],outputs:{switchMessage:"switchMessage"},decls:37,vars:31,consts:[["type","button",1,"btn","text-color-primary","rounded-pill","font-weight-bolder","py-0","px-0","pr-1","text-xs",3,"click"],["position","right",3,"show","top","hideButton","hideHeader","backdrop","showChange"],[1,"d-block","py-3","px-md-4","px-2",2,"background-color","white"],[1,"d-flex","justify-content-center","align-items-center"],[1,"btn","btn-transparent","text-color-primary","p-0","mr-3",3,"click"],[2,"width","34px",3,"src"],[1,"text-xl","mt-3","text-color-primary","font-sans"],[1,"py-5","px-md-4","px-2"],[1,"text-left",3,"formGroup","ngSubmit"],[1,"form-group","d-flex","mb-5","flex-column"],[1,"mb-0","text-xs","text-brown","text-left"],["width","21px","height","21px",1,"help-color","ml-2","cursor-default","info-icon",3,"appTooltip","position","orientation","src"],[1,"d-flex"],["formControlName","idTipoDocumento",1,"form-control","form-especies","mr-2","col-4"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","dni",1,"form-control","col-8"],["type","text","formControlName","email",1,"form-control"],["class","feedback-error text-xs my-3 text-danger text-left",4,"ngIf"],[1,"d-flex","justify-content-end","my-md-4"],["type","submit",1,"btn","button-outline-primary","rounded","text-sm","font-weight-bolder","py-1","my-3",3,"ngClass","disabled"],["tooltipTemplate",""],[3,"message","closed"],[3,"value"],[1,"feedback-error","text-xs","my-3","text-danger","text-left"],[1,"mb-1",2,"width","16px",3,"src"],["role","tooltip",1,"d-flex","card-tooltip","mr-2"],[1,"tooltip-inner","card-tooltip-inner","custom-inner","background-light","px-3","py-4","text-color-primary","text-left","text-xs"],[1,"mb-0",2,"line-height","normal"],[1,"fas","fa-caret-right","card-caret-right","text-light"]],template:function(e,t){if(1&e&&(n.Ub(0,"button",0),n.bc("click",function(){return t.show=!0}),n.Mc(1),n.gc(2,"translate"),n.Tb(),n.Ub(3,"app-menu-drawer",1),n.bc("showChange",function(e){return t.show=e}),n.Ub(4,"div",2),n.Ub(5,"div",3),n.Ub(6,"button",4),n.bc("click",function(){return t.changeShow(!1)}),n.Pb(7,"img",5),n.Tb(),n.Ub(8,"span",6),n.Mc(9),n.gc(10,"translate"),n.Tb(),n.Tb(),n.Tb(),n.Ub(11,"div",7),n.Ub(12,"form",8),n.bc("ngSubmit",function(){return t.recuperarUsuario()}),n.Ub(13,"div",9),n.Ub(14,"label",10),n.Ub(15,"strong"),n.Mc(16),n.gc(17,"translate"),n.Tb(),n.Pb(18,"img",11),n.Tb(),n.Ub(19,"div",12),n.Ub(20,"select",13),n.Kc(21,E,2,2,"option",14),n.Tb(),n.Pb(22,"input",15),n.Tb(),n.Tb(),n.Ub(23,"div",9),n.Ub(24,"label",10),n.Ub(25,"strong"),n.Mc(26),n.gc(27,"translate"),n.Tb(),n.Tb(),n.Pb(28,"input",16),n.Kc(29,K,3,2,"small",17),n.Tb(),n.Ub(30,"div",18),n.Ub(31,"button",19),n.Mc(32),n.gc(33,"translate"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Kc(34,V,5,1,"ng-template",null,20,n.Lc),n.Tb(),n.Ub(36,"app-messages",21),n.bc("closed",function(){return t.message=""}),n.Tb()),2&e){const e=n.yc(35);n.Bb(1),n.Oc(" ",n.hc(2,21,"login.recuperarusuario"),"\n"),n.Bb(2),n.mc("show",t.show)("top",t.top)("hideButton",!0)("hideHeader",!0)("backdrop",!1),n.Bb(4),n.mc("src",t.iconBack,n.Ec),n.Bb(2),n.Oc(" ",n.hc(10,23,"login.headerrecuperarusuario")," "),n.Bb(3),n.mc("formGroup",t.recuperarUsuarioPasswordForm),n.Bb(4),n.Nc(n.hc(17,25,"login.placeholderdni")),n.Bb(2),n.mc("appTooltip",e)("position","left")("orientation","left")("src",t.infoIcon,n.Ec),n.Bb(3),n.mc("ngForOf",t.documentos),n.Bb(5),n.Nc(n.hc(27,27,"login.placeholderemail")),n.Bb(3),n.mc("ngIf",t.error),n.Bb(2),n.mc("ngClass",t.recuperarUsuarioPasswordForm.valid?"primary-buttons":"primary-buttons-disabled")("disabled",!t.recuperarUsuarioPasswordForm.valid),n.Bb(1),n.Oc(" ",n.hc(33,29,"login.botonenviar")," "),n.Bb(4),n.mc("message",t.message)}},directives:[f.a,b.z,b.o,b.h,z.a,b.w,b.n,b.f,a.n,b.b,a.o,a.l,v,b.q,b.y],pipes:[w.c],styles:[".text-brown[_ngcontent-%COMP%]{color:var(--text-color-base)}.info-icon[_ngcontent-%COMP%]{margin-top:-3px;width:16px}"]}),e})();const G=["passwordInput"],Z=function(e){return{"flex-wrap-reverse":e}},X=function(e){return{"justify-content-center w-100":e}},Y=function(e,t,o){return{"btn-disabled":e,"btn-enabled":t,"w-100 my-4":o}};function J(e,t){if(1&e){const e=n.Vb();n.Ub(0,"form",31),n.bc("ngSubmit",function(){return n.Bc(e),n.fc().preLogin()}),n.Ub(1,"div",32),n.Ub(2,"label",33),n.Ub(3,"strong"),n.Mc(4),n.gc(5,"translate"),n.Tb(),n.Tb(),n.Pb(6,"input",34),n.Tb(),n.Ub(7,"div",35),n.Ub(8,"div",36),n.Ub(9,"app-recuperar-usuario-password",7),n.bc("switchMessage",function(){return n.Bc(e),n.fc().resetLogin()}),n.Tb(),n.Tb(),n.Ub(10,"button",37),n.Mc(11),n.gc(12,"translate"),n.Tb(),n.Tb(),n.Tb()}if(2&e){const e=n.fc();n.mc("formGroup",e.preAuthForm),n.Bb(4),n.Nc(n.hc(5,7,"login.placeholderusuario")),n.Bb(3),n.mc("ngClass",n.rc(11,Z,e.isResponsive)),n.Bb(1),n.mc("ngClass",n.rc(13,X,e.isResponsive)),n.Bb(2),n.mc("ngClass",n.tc(15,Y,!e.preAuthForm.valid,e.preAuthForm.valid,e.isResponsive))("disabled",!e.preAuthForm.valid),n.Bb(1),n.Oc(" ",n.hc(12,9,"login.botoncontinuar")," ")}}function Q(e,t){if(1&e){const e=n.Vb();n.Ub(0,"span",40),n.bc("click",function(){n.Bc(e);const t=n.fc(2);return t.showPass=!t.showPass}),n.Pb(1,"i",50),n.Tb()}}function W(e,t){if(1&e){const e=n.Vb();n.Ub(0,"span",40),n.bc("click",function(){n.Bc(e);const t=n.fc(2);return t.showPass=!t.showPass}),n.Pb(1,"i",51),n.Tb()}}function ee(e,t){if(1&e&&(n.Ub(0,"small",52),n.Pb(1,"img",53),n.Mc(2),n.Tb()),2&e){const e=n.fc(2);n.Bb(1),n.mc("src",e.infoIconRed,n.Ec),n.Bb(1),n.Oc(" ",e.error," ")}}function te(e,t){if(1&e){const e=n.Vb();n.Ub(0,"form",31),n.bc("ngSubmit",function(){return n.Bc(e),n.fc().login()}),n.Ub(1,"div",38),n.Ub(2,"label",39),n.Ub(3,"strong"),n.Mc(4),n.gc(5,"translate"),n.Tb(),n.Tb(),n.Pb(6,"input",34),n.Ub(7,"span",40),n.bc("click",function(){return n.Bc(e),n.fc().resetLogin()}),n.Pb(8,"img",41),n.Tb(),n.Tb(),n.Ub(9,"div",42),n.Ub(10,"label",39),n.Ub(11,"strong"),n.Mc(12),n.gc(13,"translate"),n.Tb(),n.Tb(),n.Ub(14,"div",43),n.Pb(15,"input",44,45),n.Ub(17,"span",46),n.Kc(18,Q,2,0,"span",47),n.Kc(19,W,2,0,"span",47),n.Tb(),n.Tb(),n.Kc(20,ee,3,2,"small",48),n.Tb(),n.Ub(21,"div",35),n.Ub(22,"div",36),n.Ub(23,"app-recuperar-usuario-password",7),n.bc("switchMessage",function(){return n.Bc(e),n.fc().resetLogin()}),n.Tb(),n.Tb(),n.Ub(24,"button",49),n.Mc(25),n.gc(26,"translate"),n.Tb(),n.Tb(),n.Tb()}if(2&e){const e=n.fc();n.mc("formGroup",e.authForm),n.Bb(4),n.Nc(n.hc(5,13,"login.placeholderusuario")),n.Bb(4),n.mc("src",e.iconBack,n.Ec),n.Bb(4),n.Nc(n.hc(13,15,"login.placeholdercontrasena")),n.Bb(3),n.mc("type",e.showPass?"text":"password"),n.Bb(3),n.mc("ngIf",e.showPass),n.Bb(1),n.mc("ngIf",!e.showPass),n.Bb(1),n.mc("ngIf",""!==e.error),n.Bb(1),n.mc("ngClass",n.rc(19,Z,e.isResponsive)),n.Bb(1),n.mc("ngClass",n.rc(21,X,e.isResponsive)),n.Bb(2),n.mc("ngClass",n.tc(23,Y,!e.authForm.valid,e.authForm.valid,e.isResponsive))("disabled",!e.authForm.valid),n.Bb(1),n.Oc(" ",n.hc(26,17,"login.botonlogin")," ")}}let oe=(()=>{class e{constructor(e,t,o,r,i,s,c,a,l,p){this.authService=e,this.cuentaService=t,this.router=o,this.generalService=r,this.storage=i,this.route=s,this.cd=c,this._envService=a,this._deviceService=l,this.trackerService=p,this.errorResponse=new n.n,this.switchView=new n.n,this.switchMessage=new n.n,this.authForm=new b.g({user:new b.e("",b.x.required),pass:new b.e("",b.x.required)}),this.preAuthForm=new b.g({user:new b.e("",b.x.required)}),this.error="",this.aceptoTerminos=!1,this.urlRedirect="/app/home",this.showTerminos=!1,this.showPass=!1,this.step=1,this.iconBack=this._envService.env.assetsUrl+"066692_iconretornar.svg",this.tooltipMessage="Si necesit\xe1s ayuda cont\xe1ctanos a digital@balanz.com.",this.infoIconRed=this._envService.env.assetsUrl+"066074_icon_alertsvg.svg",this.loginFails=0,this._nonce="",this._unsubscriber=new O.b}get isResponsive(){return this._deviceService.is(["mobile","tablet"])}ngAfterViewInit(){this.route.queryParamMap.pipe(Object(C.a)(this._unsubscriber)).subscribe(e=>{e.get("altausuario")&&(this.altaUsuario.changeShow(!0),this.cd.detectChanges()),e.get("recuperarclave")&&(this.newPassword.changeShow(!0),this.cd.detectChanges())})}ngOnInit(){this.infoIcon=this._envService.env.assetsUrl+"069337_iconostooltipinformacion.svg",this.toolTip=$(()=>{$('[data-toggle="tooltiplogin"]').tooltip({placement:"left",container:"body",template:'<div class="tooltip  d-flex login-tooltip align-items: center;" role="tooltip"><div class="tooltip-inner login-tooltip-inner custom-inner background-light px-3 py-4 text-color-primary "></div><i class="fas fa-caret-right login-caret-right text-light"></i></div>'})})}ngOnDestroy(){this._unsubscriber.next(),this._unsubscriber.complete()}resetLogin(){this._unsubscriber.next(),this._unsubscriber.complete(),this.authForm.reset(),this._nonce="",this.error="",this.authForm.get("pass").setValue(""),2===this.step&&setTimeout(()=>this.step=1,100)}preLogin(){this.authService.preLogin$(this.preAuthForm.get("user").value,{}).pipe(Object(C.a)(this._unsubscriber)).subscribe(e=>{this.step=2,this._nonce=e.nonce,this.authForm.patchValue({user:this.preAuthForm.get("user").value}),this.authForm.get("user").disable(),setTimeout(()=>this.passwordInput.nativeElement.focus(),0)},e=>{this.error=e.error.Descripcion,this.step=1,this._nonce=""})}login(){const e=this.authService.login$(this.preAuthForm.get("user").value,this.authForm.get("pass").value,this._nonce,{}).pipe(Object(C.a)(this._unsubscriber)).subscribe(t=>{if(e.unsubscribe(),t.hasOwnProperty("Terminos"))this.idTerminos=t.Terminos.idTerminoYCondicion,this.terminos=t.Terminos.urlTyC,this.showTerminos=!0;else{const e=this.storage.get("returnUrl");this.urlRedirect=e||"/app/home",this.getCuentas(t.idPersona)}this.sendLoginDataEvent(t)},e=>{if(this.error=e.error.Descripcion,this.authForm.get("pass").setValue(""),this.loginFails++,this.loginFails<2){const e=this.authService.preLogin$(this.preAuthForm.get("user").value,{}).pipe(Object(C.a)(this._unsubscriber)).subscribe(t=>{this.step=2,this._nonce=t.nonce,e.unsubscribe()},e=>{this.error=e.error.Descripcion,this.step=1,this._nonce=""})}else this.loginFails=0,this.resetLogin()})}getCuentas(e){const t=this.cuentaService.getCuentas(!0,e).pipe(Object(C.a)(this._unsubscriber)).subscribe(e=>{t.unsubscribe(),this.router.navigateByUrl("/app")})}verTerminos(){window.open(this.terminos,"_blank").focus()}aceptarTerminos(){const e=this.generalService.aceptarTerminosyCondiciones(this.idTerminos).pipe(Object(C.a)(this._unsubscriber)).subscribe(t=>{e.unsubscribe(),this.showTerminos=!1,setTimeout(()=>this.router.navigateByUrl("/"),300)})}abrirCuenta(){window.open(this._envService.env.AbrirCuentaUrl,"_blank")}sendLoginDataEvent(e){this.trackerService.register({category:"login",name:"login.success",description:"Event sent when an user has been logged in successfully!",properties:{user:e.idPersona,session:e.idSesion,version:"FrontEnd "+l.a.version+" "+l.a.hash,type:"click"},content:{idSesion:e.idSesion,UltimoLogin:e.UltimoLogin,idPersona:e.idPersona}}).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(p.a),n.Ob(h.a),n.Ob(r.c),n.Ob(m.a),n.Ob(d.a),n.Ob(r.a),n.Ob(n.h),n.Ob(c.b),n.Ob(u.a),n.Ob(j.a))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-login"]],viewQuery:function(e,t){if(1&e&&(n.Rc(M,1),n.Rc(F,1),n.Rc(G,1)),2&e){let e;n.xc(e=n.cc())&&(t.altaUsuario=e.first),n.xc(e=n.cc())&&(t.newPassword=e.first),n.xc(e=n.cc())&&(t.passwordInput=e.first)}},outputs:{errorResponse:"errorResponse",switchView:"switchView",switchMessage:"switchMessage"},decls:51,vars:19,consts:[[1,"px-md-4","px-2","scroll","d-flex","flex-wrap","justify-content-center","align-items-baseline","h-100"],[1,"text-left","py-md-4","py-2","py-lg-2","w-100","max-width","mt-md-5","px-md-4","px-3","pt-4","align-self-start"],[1,"text-2xl","text-color-primary","font-sans"],[1,"px-3","px-lg-4","w-100","max-width"],["class","form-login text-center w-100 mt-xxl-3 mt-xl-2 mt-5",3,"formGroup","ngSubmit",4,"ngIf"],[1,"px-4","py-2","w-100","mx-4","mx-lg-0","firstTimeContainer"],[1,"text-center","text-xs","my-3","w-100","d-flex","flex-column","justify-content-center"],[3,"switchMessage"],[1,"w-100"],[1,"text-center","pt-2","text-s"],[1,"text-center","mb-2"],[1,"btn","text-color-primary","font-weight-bolder","text-s",3,"click"],["altaUsuario",""],["newPassword",""],[1,"text-center","mt-2","mt-sm-4","text-x","align-self-end"],[3,"show","hideHeader","hideFooter","size","showChange"],[1,"card","border-0","p-3"],["type","button",1,"close","text-color-muted","text-right",3,"click"],["aria-hidden","true"],[1,"text-center","text-xs"],[1,"mb-4"],["width","70px","width","21px","height","21px",3,"src"],[1,"mb-4","px-4","mt-5"],[1,"text-color-primary"],[1,"form-check","mt-2","mb-5"],["type","checkbox","id","check-terminos",1,"form-check-input",3,"ngModel","ngModelChange"],["for","check-terminos",1,"form-check-label","text-secondary"],[2,"cursor","pointer",3,"click"],[1,"text-right"],[1,"btn","secondary-buttons","font-sans","font-weight-bold","text-xxs","w-25",3,"disabled","click"],[3,"message","closed"],[1,"form-login","text-center","w-100","mt-xxl-3","mt-xl-2","mt-5",3,"formGroup","ngSubmit"],[1,"form-group","d-flex","mb-xxl-5","mb-3","flex-column"],[1,"mb-0","text-x","text-left","dark-brown"],["type","text","formControlName","user",1,"form-control","text-lg","text-brown"],[1,"d-flex","justify-content-between","m-2",3,"ngClass"],[1,"d-flex",3,"ngClass"],["type","submit",1,"btn","text-x","p-1",3,"ngClass","disabled"],[1,"form-group","d-flex","mb-xxl-5","mb-3","flex-column","position-relative"],[1,"mb-0","text-xs","text-color-muted","text-left"],[1,"cursor-pointer",3,"click"],[1,"back-arrow-login",3,"src"],[1,"form-group","d-flex","mb-xxl-4","mb-md-4","mb-3","flex-column"],[1,"d-flex"],["autocomplete","new-password","formControlName","pass",1,"form-control","w-100","text-lg","text-brown",3,"type"],["passwordInput",""],[1,"position-relative",2,"width","0","height","0","top","10px","right","30px"],["class","cursor-pointer",3,"click",4,"ngIf"],["class","feedback-error my-3 text-danger text-left",4,"ngIf"],["type","submit",1,"btn","button-outline-primary","rounded","text-xs","p-1",3,"ngClass","disabled"],[1,"form-group-icon","fa","fa-eye"],[1,"form-group-icon","fa","fa-eye-slash"],[1,"feedback-error","my-3","text-danger","text-left"],[1,"mb-1",2,"width","16px",3,"src"]],template:function(e,t){1&e&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"span",2),n.Mc(3),n.gc(4,"translate"),n.Tb(),n.Tb(),n.Ub(5,"div",3),n.Kc(6,J,13,19,"form",4),n.Kc(7,te,27,27,"form",4),n.Tb(),n.Ub(8,"div",5),n.Ub(9,"div",6),n.Ub(10,"app-primer-ingreso",7),n.bc("switchMessage",function(){return t.resetLogin()}),n.Tb(),n.Tb(),n.Ub(11,"div",8),n.Ub(12,"div",9),n.Mc(13),n.gc(14,"translate"),n.Tb(),n.Ub(15,"div",10),n.Ub(16,"button",11),n.bc("click",function(){return t.abrirCuenta()}),n.Mc(17),n.gc(18,"translate"),n.Tb(),n.Ub(19,"app-alta-usuario",7,12),n.bc("switchMessage",function(){return t.resetLogin()}),n.Tb(),n.Ub(21,"app-new-password",7,13),n.bc("switchMessage",function(){return t.resetLogin()}),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(23,"div",14),n.Ub(24,"p"),n.Mc(25,"\xa9 2022 Balanz Capital"),n.Tb(),n.Tb(),n.Tb(),n.Ub(26,"app-modal",15),n.bc("showChange",function(e){return t.showTerminos=e}),n.Ub(27,"div",16),n.Ub(28,"button",17),n.bc("click",function(){return t.showTerminos=!1}),n.Ub(29,"span",18),n.Mc(30,"\xd7"),n.Tb(),n.Tb(),n.Ub(31,"div",19),n.Ub(32,"div",20),n.Pb(33,"img",21),n.Tb(),n.Ub(34,"div",22),n.Mc(35," Para poder continuar tenes que leer y aceptar los "),n.Ub(36,"strong",23),n.Mc(37,"t\xe9rminos y condiciones"),n.Tb(),n.Mc(38," de Balanz. "),n.Tb(),n.Ub(39,"div",24),n.Ub(40,"input",25),n.bc("ngModelChange",function(e){return t.aceptoTerminos=e}),n.Tb(),n.Ub(41,"label",26),n.Mc(42," Acepto los "),n.Ub(43,"a",27),n.bc("click",function(){return t.verTerminos()}),n.Ub(44,"u"),n.Mc(45,"t\xe9rminos y condiciones"),n.Tb(),n.Tb(),n.Mc(46,". "),n.Tb(),n.Tb(),n.Tb(),n.Ub(47,"div",28),n.Ub(48,"button",29),n.bc("click",function(){return t.aceptarTerminos()}),n.Mc(49," Continuar "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(50,"app-messages",30),n.bc("closed",function(){return t.message=""}),n.Tb()),2&e&&(n.Bb(3),n.Oc(" ",n.hc(4,13,"login.textoingreso")," "),n.Bb(3),n.mc("ngIf",1===t.step),n.Bb(1),n.mc("ngIf",2===t.step),n.Bb(6),n.Oc(" ",n.hc(14,15,"login.textoabrircuenta")," "),n.Bb(4),n.Oc(" ",n.hc(18,17,"login.botonabrircuenta")," "),n.Bb(9),n.mc("show",t.showTerminos)("hideHeader",!0)("hideFooter",!0)("size","md"),n.Bb(7),n.mc("src",t.infoIcon,n.Ec),n.Bb(7),n.mc("ngModel",t.aceptoTerminos),n.Bb(8),n.mc("disabled",!t.aceptoTerminos),n.Bb(2),n.mc("message",t.message))},directives:[a.o,N,M,F,q.a,b.a,b.n,b.p,v,b.z,b.o,b.h,b.b,b.f,a.l,H],pipes:[w.c],styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;width:var(--width-form-auth);background-color:var(--base)}.card-login[_ngcontent-%COMP%]{max-width:var(--width-form-auth)}.btn-disabled[_ngcontent-%COMP%]{background:#ccc;border-color:#ccc;color:var(--base)}.btn-enabled[_ngcontent-%COMP%]{background:var(--text-color-primary);color:var(--base)}.btn-enabled[_ngcontent-%COMP%]:hover{background:#011e4b}@media only screen and (max-width:1024px){.footer[_ngcontent-%COMP%]{width:100vw;border-top:0;display:flex;flex-direction:column;align-items:center}}.input-group[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;border-bottom:1px solid #c8c8c8;margin-top:1rem;font-size:.9rem;height:34px}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:110px!important;margin-top:8px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;background-color:transparent}  .login-caret-right{font-size:50px!important;align-self:center!important;z-index:10;margin-right:-2px;filter:drop-shadow(2px 1px 1px rgba(0,0,0,.55))!important;color:#f0f1f5!important}  .login-tooltip .fa-caret-right{text-shadow:-1px 3px 0 #272634}  .login-tooltip-inner{max-width:300px!important;margin-right:-3px!important;background-color:#f0f1f5!important;box-shadow:0 1px 4px 0 rgba(0,0,0,.55)!important}hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}input[_ngcontent-%COMP%]::-ms-clear, input[_ngcontent-%COMP%]::-ms-reveal{display:none}.firstTimeContainer[_ngcontent-%COMP%]{background:var(--bg-color-light-gray);max-width:25rem;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.dark-brown[_ngcontent-%COMP%]{color:var(--text-color-dark-brown)}.back-arrow-login[_ngcontent-%COMP%]{width:25px;position:absolute;right:10px;top:30px}"]}),e})(),re=(()=>{class e{constructor(e){this._envService=e,this.urlsArray=[this._envService.env.assetsUrl+"067670_imglogin.jpg",this._envService.env.assetsUrl+"067671_imglogin2.jpg",this._envService.env.assetsUrl+"067672_balanzlogin3.jpg"],this.imageUrl="",this.showMessage=!1,this.showView=""}get backgroundImage(){return{"background-image":`url(${this.imageUrl})`,"background-size":"cover"}}ngOnInit(){this.imageUrl=this.urlsArray[Math.floor(Math.random()*this.urlsArray.length)]}switchView(e){this.showView=e}switchMessage(e){this.showMessage=e}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(c.b))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-auth"]],decls:8,vars:1,consts:[[1,"bg-white","login"],[1,"login-header","pl-5","pl-sm-0","justify-content-start"],[1,"logo","text-base"],[1,"login-body"],[1,"login-image",3,"ngStyle"],[1,"login-form","bg-white","p-0","pt-lg-2","pt-0"],[3,"errorResponse","switchView","switchMessage"]],template:function(e,t){1&e&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"span",2),n.Mc(3,"BALANZ"),n.Tb(),n.Tb(),n.Ub(4,"div",3),n.Pb(5,"div",4),n.Ub(6,"div",5),n.Ub(7,"app-login",6),n.bc("errorResponse",function(e){return t.message=e})("switchView",function(e){return t.switchView(e)})("switchMessage",function(e){return t.switchMessage(e)}),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&e&&(n.Bb(5),n.mc("ngStyle",t.backgroundImage))},directives:[a.p,oe],styles:[".login[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden}.btn-auth[_ngcontent-%COMP%], .btn-cuenta[_ngcontent-%COMP%]{border:2px solid var(--primary);width:200px;font-size:.96rem!important}.logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;font-family:Arial,Helvetica,sans-serif;padding-left:2.5rem}.font-sans[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.font-ubuntu[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif}.login-header[_ngcontent-%COMP%]{height:85px;background-color:#002162;display:flex;align-items:center;justify-content:flex-start;width:100%}.login-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr var(--width-form-auth);width:100%;height:calc(100vh - 85px);max-width:100vw}.btn-link[_ngcontent-%COMP%]{color:#002162;font-weight:300;font-size:1.1rem}.footer[_ngcontent-%COMP%]{height:100px;position:fixed;bottom:0;right:0;width:var(--width-form-auth);text-align:center;border-top:1px solid #002162;padding-top:10px}.card-login[_ngcontent-%COMP%]{height:calc(100vh - 185px);overflow-y:auto;max-width:var(--width-form-auth)}.slide[_ngcontent-%COMP%]{background-color:var(--base);width:100%;height:100%;position:-webkit-sticky;position:sticky}.slide.show[_ngcontent-%COMP%]{right:0}.slide.hide[_ngcontent-%COMP%]{right:var(--width-form-auth)}.slide-block[_ngcontent-%COMP%]{background-color:var(--base);position:absolute;height:calc(100vh - 85px);right:0;top:85px;width:var(--width-form-auth)}.login-image[_ngcontent-%COMP%]{display:block}.login-form[_ngcontent-%COMP%]{overflow-y:auto!important}@media only screen and (max-width:1024px){.logo[_ngcontent-%COMP%]{padding-left:0}.login-image[_ngcontent-%COMP%]{display:none}.login-header[_ngcontent-%COMP%]{height:60px;justify-content:center}.login-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;width:100%;height:calc(100vh - 60px);justify-items:center}.login-form[_ngcontent-%COMP%]{width:var(--width-form-auth)}.footer[_ngcontent-%COMP%]{width:100vw;border-top:0}.card-login[_ngcontent-%COMP%]{height:calc(100vh - 160px)}.slide[_ngcontent-%COMP%]{max-width:100%}.btn-auth[_ngcontent-%COMP%]{background-color:var(--primary);color:var(--base)}.btn-cuenta[_ngcontent-%COMP%]{border:0;color:#002162;font-weight:300;font-size:1.1rem}.slide-block[_ngcontent-%COMP%]{height:calc(100vh - 60px);height:60px;width:100%}}"],data:{animation:[Object(s.j)("slide",[Object(s.i)(":enter",[Object(s.h)({width:0}),Object(s.f)("div > *",[Object(s.h)({opacity:0})]),Object(s.g)([Object(s.e)("400ms",Object(s.h)({width:"var(--width-form-auth)"})),Object(s.f)("div > *",[Object(s.h)({opacity:0}),Object(s.e)("400ms",Object(s.h)({opacity:1}))])])]),Object(s.i)(":leave",[Object(s.g)([Object(s.f)("div > *",[Object(s.e)("400ms",Object(s.h)({opacity:0}))]),Object(s.e)("400ms",Object(s.h)({width:0}))])])])]}}),e})(),ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Ib({type:e,selectors:[["app-login"]],decls:1,vars:0,template:function(e,t){1&e&&n.Pb(0,"app-auth")},directives:[re],styles:[""]}),e})();const ie=[{path:"",component:i,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:ne},{path:"altausuario",component:ne},{path:"recuperarclave",component:ne}]}];let se=(()=>{class e{}return e.\u0275mod=n.Mb({type:e}),e.\u0275inj=n.Lb({factory:function(t){return new(t||e)},imports:[[r.g.forChild(ie)]]}),e})()}}]);